<div class="filters" *ngIf="showFilters">
    <p class="filter-list">
        <md-select name="waterschapName" [(ngModel)]="filters.waterschapName"
                   placeholder="Waterschap naam">
            <md-option>
                Geen filter
            </md-option>
            <md-option *ngFor="let waterschap of waterschappen"
                       [value]="waterschap.name">
                {{waterschap.name}}
            </md-option>
        </md-select>
    </p>
    <p class="filter-list">
        <md-select name="watertypeName" [(ngModel)]="filters.watertypeName"
                   placeholder="Watertype naam">
            <md-option>
                Geen filter
            </md-option>
            <md-option *ngFor="let watertype of watertypes"
                       [value]="watertype.name">
                {{watertype.name}}
            </md-option>
        </md-select>
    </p>
    <p class="filter-list">
        <md-select name="waterTypeCode" [(ngModel)]="filters.watertypeCode"
                   placeholder="Watertype code">
            <md-option>
                Geen filter
            </md-option>
            <md-option *ngFor="let watertype of watertypes"
                       [value]="watertype.code">
                {{ watertype.code }}
            </md-option>
        </md-select>
    </p>
    <button md-raised-button class="filter-button" (click)="filterMarkers()"
            type="submit">FILTEREN
    </button>
    <button md-raised-button class="filter-button" (click)="refreshMarkers()"
            type="submit">RESET
    </button>
</div>

<ngui-map [options]="mapConfig">
    <marker (click)="showMarkerInfo($event)"
            *ngFor="let pos of positions"
            [position]="pos"
            [title]="pos.title"></marker>
    <info-window id="iw">
        <md-list>
            <md-list-item>
                <h3 md-line><b>Locatie</b></h3>
                <p md-line>{{marker.markerLocation.description}}</p>
            </md-list-item>
            <md-list-item>
                <h3 md-line><b>Mp</b></h3>
                <p md-line>{{marker.markerLocation.code}}</p>
            </md-list-item>
            <md-list-item *ngIf="marker.waterschap != undefined">
                <h3 md-line><b>Waterschap</b></h3>
                <p md-line>{{marker.waterschap.name}}</p>
            </md-list-item>
            <md-list-item>
                <h3 md-line><b>Watertype</b></h3>
                <p md-line>
                    {{marker.watertype.name}}
                    ({{marker.watertype.code}})</p>
                <p md-line>
                    {{marker.watertypeKrw.name}}
                    ({{marker.watertypeKrw.code}})</p>
            </md-list-item>
        </md-list>
        <button class="iw-button" md-raised-button>
            <span class="md-button-wrapper">DETAILS</span>
        </button>
    </info-window>
</ngui-map>

<span class="app-action">
  <button md-button class="search-button" (click)="toggleFilters()"><span>FILTER RESULTATEN</span>
</button>
</span>